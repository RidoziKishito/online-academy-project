<div class="card">
  <h5 class="card-header d-flex justify-content-between">
    <span>My Courses</span>
    <a class="btn btn-primary btn-sm" href="/instructor/courses/create">
      <i class="bi bi-plus-circle"></i> New Course
    </a>
  </h5>
  <div class="card-body">
    {{#if courses.length}}
    <table class="table table-hover">
      <thead>
        <tr>
          <th class="text-center">#</th>
          <th>Title</th>
          <th>Category</th>
          <th>Status</th>
          <th class="text-end">Actions</th>
        </tr>
      </thead>
      <tbody>
        {{#each courses}}
        <tr>
          <td class="text-center">{{course_id}}</td>
          <td>{{title}}</td>
          <td>{{category_id}}</td>
          <td>
            {{#if (eq status 'pending')}}<span class="badge bg-warning text-dark">Pending</span>{{/if}}
            {{#if (eq status 'approved')}}<span class="badge bg-success">Approved</span>{{/if}}
            {{#if (eq status 'hidden')}}<span class="badge bg-secondary">Hidden</span>{{/if}}
          </td>
          <td class="text-end">
            <a class="btn btn-outline-secondary btn-sm" href="/instructor/manage-course/{{course_id}}">
              <i class="bi bi-gear"></i> Manage
            </a>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{else}}
      <p class="text-muted mb-0">You don't have any courses yet.</p>
    {{/if}}
  </div>
</div>

{{#fillContent 'js'}}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const params = new URLSearchParams(window.location.search);
    if (params.get('action') === 'submitted') {
      Swal.fire({
        icon: 'success',
        title: 'Course Submitted',
        text: 'Your course has been submitted for admin review.',
        timer: 2500,
        showConfirmButton: false
      });
    }
  });
</script>
{{/fillContent}}
