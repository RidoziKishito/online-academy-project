# Server
PORT=3000

# Database Configuration
# Get connection string from Supabase Dashboard → Project Settings → Database → Connection string (Session mode pooler)
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
# IMPORTANT: If password contains special characters (@, #, !, etc.), they must be URL-encoded
# Examples: @ becomes %40, # becomes %23, ! becomes %21
# For production (Render/Heroku): Use DATABASE_URL in environment variables or Secret Files
DATABASE_URL=postgresql://your_user:your_password@your_host:5432/your_database

# Application Settings
BASE_URL=http://localhost:3000
APP_NAME=VietEdu

# Session Secret (generate a random secure string for production)
SESSION_SECRET=your_random_secret_key_here

# Session Store Configuration
# In production, auto-create is disabled by default to avoid DB touches on cold start.
# For local development you can keep it true.
SESSION_AUTO_CREATE_TABLE=true
# Disable background pruning (0 = disabled) to reduce idle DB traffic on free tiers
SESSION_PRUNE_INTERVAL_SECONDS=0

# Email Configuration (for sending emails via Gmail SMTP)
# NOTE: Use App-Specific Password, not your regular Gmail password
# Get it from: Google Account → Security → 2-Step Verification → App passwords
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_specific_password_or_sendgrid_key

# Google OAuth Configuration
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback

# reCAPTCHA Configuration (v2 Checkbox)
# Get keys from: https://www.google.com/recaptcha/admin
RECAPTCHA_SITE_KEY=your_recaptcha_site_key
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# Optional
CORS_ALLOWED_ORIGINS=http://localhost:3000
SUPABASE_URL=
SUPABASE_ANON_KEY=

# Disable .env loading (useful in production when using Render Environment Variables)
# DISABLE_DOTENV=true
